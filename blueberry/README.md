# Blueberry

О программе
----------
Blueberry представляет собой менеджер работы с очередями, позволяющий выполнять отложенные задания. В качестве хранилища информации об отложенных заданиях используется база данных Redis. Bluberry написан на языке программирования Python.

Установка
-----------
Выполните следующее:
```
$ git clone https://github.com/N0rdream/blueberry.git
$ cd blueberry
```
Кроме того, необходимо установить Redis.

Зависимости
----------    
Для работы менеджера задач требуется версия Python не ниже 3.6.  
Установку необходимых зависимостей можно осуществить, выполнив команду:
```
$ pip install -r requirements.txt
```

Порядок действий
----------------
Создайте экземпляр класса Blueberry:
```
from blueberry import Blueberry

app = Blueberry()
```
Также можно задать произвольный адрес сервера Redis (по умолчанию это localhost и порт 6379):
```
app = Blueberry(host='1.1.1.1', port=1111)
```
Далее определите функцию, которую необходимо будет поместить в отложенные задания. Это делается при помощи декоратора:
```
@app.register()
def long_task(a, b, c=0, d=0):
	"""
	some long running task here
	"""
```
Когда данную функцию необходимо будет вызвать, сделайте это следующим образом:
```
app.delay('long_task', 0, 1, d=3, c=2)
```
Как запустить
-------------
Для запуска обработки отложенных задач (worker'а) необходимо выполнить следующую команду:
```
python3 worker.py --app my_app.app
```
Где "my_app" - путь до файла, где определен экземпляр класса Blueberry, а "app" - имя данного экземпляра.

Дополнительно
-------------
Менеджер задач написан в рамках программы обучения по курсу "Web-разработчик на Python" образовательной площадки OTUS.